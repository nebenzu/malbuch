(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7145:function(e,t,a){Promise.resolve().then(a.bind(a,6117))},6117:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return s}});var r=a(7437),l=a(2265);function s(){let[e,t]=(0,l.useState)(""),[a,s]=(0,l.useState)("coloring"),[n,i]=(0,l.useState)([]),[o,c]=(0,l.useState)([]),[d,m]=(0,l.useState)(!1),[b,h]=(0,l.useState)(""),x=(0,l.useCallback)(e=>{e.preventDefault(),u(Array.from(e.dataTransfer.files).filter(e=>e.type.startsWith("image/")))},[]),u=e=>{let t=[...n,...e].slice(0,20);i(t);let a=t.map(e=>URL.createObjectURL(e));c(e=>(e.forEach(e=>URL.revokeObjectURL(e)),a))},p=e=>{i(t=>t.filter((t,a)=>a!==e)),c(t=>(URL.revokeObjectURL(t[e]),t.filter((t,a)=>a!==e)))},f=async()=>{if(!e.trim()){h("Bitte gib einen Namen ein");return}if(0===n.length){h("Bitte w\xe4hle mindestens ein Foto aus");return}m(!0),h("");try{let t=new FormData;t.append("name",e),t.append("type",a),n.forEach(e=>t.append("photos",e));let r=await fetch("/api/generate",{method:"POST",body:t});if(!r.ok)throw Error("Generation failed");let l=await r.blob(),s=URL.createObjectURL(l),i=document.createElement("a");i.href=s,i.download="".concat(e.replace(/[^a-zA-Z0-9]/g,"_"),"_Malbuch.pdf"),document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(s)}catch(e){h("Fehler beim Erstellen. Bitte versuche es erneut.")}finally{m(!1)}};return(0,r.jsxs)("main",{className:"min-h-screen bg-gradient-to-b from-amber-50 to-orange-50",children:[(0,r.jsx)("header",{className:"bg-white/80 backdrop-blur-sm border-b border-amber-200 sticky top-0 z-10",children:(0,r.jsx)("div",{className:"max-w-4xl mx-auto px-6 py-4",children:(0,r.jsx)("h1",{className:"text-2xl font-bold text-amber-900",children:"\uD83C\uDFA8 Malbuch Generator"})})}),(0,r.jsxs)("div",{className:"max-w-4xl mx-auto px-6 py-12",children:[(0,r.jsxs)("section",{className:"text-center mb-12",children:[(0,r.jsx)("h2",{className:"text-4xl font-bold text-amber-900 mb-4",children:"Dein pers\xf6nliches Malbuch"}),(0,r.jsx)("p",{className:"text-xl text-amber-700",children:"Verwandle deine Fotos in einzigartige Ausmalbilder und Malen-nach-Zahlen Vorlagen"})]}),(0,r.jsxs)("div",{className:"bg-white rounded-3xl shadow-xl p-8 border border-amber-100",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-amber-800 mb-2",children:"F\xfcr wen ist das Malbuch?"}),(0,r.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"z.B. Emma, Oma, Familie M\xfcller...",className:"w-full px-4 py-3 rounded-xl border-2 border-amber-200 focus:border-amber-500 focus:outline-none text-lg"})]}),(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-amber-800 mb-3",children:"Welche Art von Malbuch m\xf6chtest du?"}),(0,r.jsx)("div",{className:"grid grid-cols-3 gap-4",children:[{value:"coloring",label:"\uD83D\uDD8D️ Ausmalbuch",desc:"Klassische Ausmalbilder"},{value:"paint-by-numbers",label:"\uD83D\uDD22 Malen nach Zahlen",desc:"Mit Farbnummern"},{value:"both",label:"✨ Beides",desc:"Alle Varianten"}].map(e=>(0,r.jsxs)("button",{onClick:()=>s(e.value),className:"p-4 rounded-xl border-2 text-left transition-all ".concat(a===e.value?"border-amber-500 bg-amber-50":"border-amber-200 hover:border-amber-300"),children:[(0,r.jsx)("span",{className:"text-2xl block mb-1",children:e.label.split(" ")[0]}),(0,r.jsx)("span",{className:"font-semibold text-amber-900 block",children:e.label.split(" ").slice(1).join(" ")}),(0,r.jsx)("span",{className:"text-sm text-amber-600",children:e.desc})]},e.value))})]}),(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-amber-800 mb-3",children:"Fotos hochladen (max. 20)"}),(0,r.jsxs)("div",{onDrop:x,onDragOver:e=>e.preventDefault(),className:"border-2 border-dashed border-amber-300 rounded-xl p-8 text-center hover:border-amber-500 hover:bg-amber-50 transition-all cursor-pointer",onClick:()=>{var e;return null===(e=document.getElementById("photo-input"))||void 0===e?void 0:e.click()},children:[(0,r.jsx)("input",{id:"photo-input",type:"file",accept:"image/*",multiple:!0,onChange:e=>{e.target.files&&u(Array.from(e.target.files))},className:"hidden"}),(0,r.jsx)("div",{className:"text-5xl mb-4",children:"\uD83D\uDCF7"}),(0,r.jsx)("p",{className:"text-amber-700 font-medium",children:"Fotos hierher ziehen oder klicken zum Ausw\xe4hlen"}),(0,r.jsx)("p",{className:"text-amber-500 text-sm mt-2",children:"JPG, PNG oder WEBP"})]}),o.length>0&&(0,r.jsx)("div",{className:"grid grid-cols-4 sm:grid-cols-6 gap-3 mt-4",children:o.map((e,t)=>(0,r.jsxs)("div",{className:"relative group",children:[(0,r.jsx)("img",{src:e,alt:"Foto ".concat(t+1),className:"w-full aspect-square object-cover rounded-lg"}),(0,r.jsx)("button",{onClick:()=>p(t),className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full text-sm opacity-0 group-hover:opacity-100 transition-opacity",children:"\xd7"})]},t))})]}),b&&(0,r.jsx)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl text-red-700",children:b}),(0,r.jsx)("button",{onClick:f,disabled:d||!e||0===n.length,className:"w-full py-4 bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 disabled:from-gray-300 disabled:to-gray-300 text-white font-bold text-lg rounded-xl transition-all shadow-lg disabled:shadow-none",children:d?(0,r.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,r.jsxs)("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Wird erstellt..."]}):"\uD83C\uDFA8 Malbuch erstellen (".concat(n.length," ").concat(1===n.length?"Foto":"Fotos",")")})]}),(0,r.jsx)("section",{className:"mt-16 grid md:grid-cols-3 gap-6",children:[{emoji:"⚡",title:"Sofort Download",desc:"Dein Malbuch ist in Sekunden fertig zum Ausdrucken"},{emoji:"\uD83C\uDF81",title:"Perfektes Geschenk",desc:"\xdcberrasche Familie & Freunde mit personalisierten Malb\xfcchern"},{emoji:"\uD83D\uDDA8️",title:"Druckfertig",desc:"A4 Format, optimiert f\xfcr jeden Drucker"}].map((e,t)=>(0,r.jsxs)("div",{className:"bg-white/60 backdrop-blur-sm rounded-2xl p-6 text-center",children:[(0,r.jsx)("div",{className:"text-4xl mb-3",children:e.emoji}),(0,r.jsx)("h3",{className:"font-bold text-amber-900 mb-2",children:e.title}),(0,r.jsx)("p",{className:"text-amber-700 text-sm",children:e.desc})]},t))}),(0,r.jsx)("section",{className:"mt-16 text-center",children:(0,r.jsxs)("div",{className:"inline-block bg-white rounded-2xl px-8 py-6 shadow-lg border border-amber-100",children:[(0,r.jsx)("p",{className:"text-amber-600 text-sm mb-1",children:"Einf\xfchrungspreis"}),(0,r.jsx)("p",{className:"text-4xl font-bold text-amber-900",children:"€4,99"}),(0,r.jsx)("p",{className:"text-amber-600 text-sm",children:"pro Malbuch • Sofort-Download"})]})})]}),(0,r.jsx)("footer",{className:"mt-24 py-8 bg-amber-100 text-center text-amber-700 text-sm",children:(0,r.jsx)("p",{children:"Made with ❤️ by Nebenzu"})})]})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=7145)}),_N_E=e.O()}]);